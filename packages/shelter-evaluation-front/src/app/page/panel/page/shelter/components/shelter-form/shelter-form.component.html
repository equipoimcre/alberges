<div *ngIf="shelterDto && shelterDto.validate">
  <h2>Shelter already validate</h2>
</div>
<div *ngIf="!shelterDto || shelterDto && !shelterDto.validate">
  <h2 *ngIf="validateMode" class="mb-4">Validate shelter</h2>
  <h2 *ngIf="!validateMode" class="mb-4">Create shelter</h2>
  <form [formGroup]="shelterForm" (submit)="submitShelter()" class="grid mb-4">
    <div class="flex flex-col lg:flex-row mb-4">
      <div>
        <label for="community" class="mx-4">Autonomous community</label>
        <select id="community" formControlName="communityId" class="form-select" [attr.disabled]="validateMode ? true : null">
          <option *ngFor="let community of communityList" [value]="community.id" [attr.disabled]="validateMode ? true : null">{{community.name}}</option>
        </select>
      </div>
      <div>
        <label for="province" class="mx-4">Province</label>
        <select id="province" formControlName="provinceId" class="form-select" [attr.disabled]="provinceList.length===0 || validateMode ? true : null">
          <option *ngFor="let province of provinceList" [value]="province.id">{{province.name}}</option>
        </select>
      </div>
      <div>
        <label for="municipality" class="mx-4">Municipality</label>
        <input type="text" id="municipality" formControlName="municipality" class="form-input" [attr.disabled]="validateMode ? true : null">
      </div>
    </div>
    <div class="flex flex-col lg:flex-row mb-4">
      <div>
        <label for="owner" class="mx-4">Owner</label>
        <input type="text" id="owner" formControlName="owner" class="form-input" [attr.disabled]="validateMode ? true : null">
      </div>
      <div>
        <label for="name" class="mx-4">Name of enplacement</label>
        <input type="text" id="name" formControlName="name" class="form-input" [attr.disabled]="validateMode ? true : null">
      </div>
    </div>
    <div class="flex flex-col lg:flex-row mb-4">
      <div>
        <label for="longitude" class="mx-4">Longitued</label>
        <input type="text" id="longitude" formControlName="longitude" class="form-input" [attr.disabled]="validateMode ? true : null">
      </div>
      <div>
        <label for="latitude" class="mx-4">Latitude</label>
        <input type="text" id="latitude" formControlName="latitude" class="form-input" [attr.disabled]="validateMode ? true : null">
      </div>
    </div>
    <div class="flex flex-col lg:flex-row mb-4">
      <div>
        <label for="note" class="mx-4">Notes</label>
        <textarea type="text" id="note" formControlName="note" class="form-input" [attr.disabled]="validateMode ? true : null"></textarea>
      </div>
    </div>
    <div *ngIf="questionList.length > 0">
      <h2>Questions</h2>
      <table>
        <tr *ngFor="let question of questionList;let i = index">
          <td class="py-2">{{question.question}}</td>
          <td class="py-2"><input type="checkbox" [id]="'question-' + question.id" [formControlName]="'question-' + question.id" class="form-input" [attr.disabled]="validateMode ? true : null"></td>
        </tr>
      </table>
    </div>
    <button type="submit" class="btn btn-blue text-center" *ngIf="!validateMode">Save</button>
    <button type="submit" class="btn btn-blue text-center" *ngIf="validateMode">Validate</button>
  </form>
</div>
